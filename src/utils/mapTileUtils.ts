import TileLayer from 'ol/layer/Tile';
import TileGrid from 'ol/tilegrid/TileGrid';
import XYZ from 'ol/source/XYZ';
import { get as getProjection } from 'ol/proj';
import { getWidth } from 'ol/extent';

// Type-only imports
import type { Projection } from 'ol/proj';
import type { Extent } from 'ol/extent';
import type { TileCoord } from 'ol/tilecoord';
import { Group } from 'ol/layer';

// Define an enum for the map tile layers
export enum MapTileLayer {
	Blank = 'blank',
	OSM = 'osm',
	SgOneMap = 'sgonemap',
	HkGeoData = 'hkgeodata',
	TwNlsc = 'twnlsc',
	TwTpeUdd = 'twtpeudd',
	JpGsi = 'jpgsi',
	KrNaver = 'krnaver',
	Twlidar = 'twlidar',
	TwTopo = 'twtopo',
}

// Define the maximum zoom levels
const maxZoom = 19;
const maxZoomOSM = 18;

// Create the OneMap tile layer
const SingaporeOneMapLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'https://www.onemap.gov.sg/maps/tiles/Satellite/{z}/{x}/{y}.png',
		maxZoom: maxZoom,
	}),
});

const HongKongGeoDataLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/imagery/WGS84/{z}/{x}/{y}.png',
		maxZoom: maxZoom,
	}),
});

const TaiwanNlscLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'https://wmts.nlsc.gov.tw/wmts/PHOTO2/default/GoogleMapsCompatible/{z}/{y}/{x}.png',
		maxZoom: maxZoom,
	}),
});

const TaiwanTaipeiUddLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'https://www.historygis.udd.gov.taipei/arcgis/rest/services/Aerial/Ortho_2023/MapServer/WMTS/tile/1.0.0/Aerial_Ortho_2023/default/default028mm/{z}/{y}/{x}.png',
		maxZoom: maxZoom,
	}),
});

const lidarLayers = [
	'LiDAR2019',
	'LiDAR2020',
	'LiDAR2021',
	'LiDAR2022',
	'LiDAR2023',
];

const BaseLyers = ['PHOTO_W106', 'PHOTO2'];

const TWlidar: Group = new Group({
	layers: BaseLyers.concat(lidarLayers).map(
		(key) =>
			new TileLayer({
				source: new XYZ({
					url: `https://wmts.nlsc.gov.tw/wmts/${key}/default/GoogleMapsCompatible/{z}/{y}/{x}.png`,
					maxZoom: maxZoom,
				}),
			}),
	),
});

const TWTopo: Group = new Group({
	layers: [
		new TileLayer({
			source: new XYZ({
				url: 'https://www.historygis.udd.gov.taipei/arcgis/rest/services/TOPO/DGN_2023/MapServer/WMTS/tile/1.0.0/TOPO_DGN_2023/default/GoogleMapsCompatible/{z}/{y}/{x}.png',
				maxZoom: maxZoom,
			}),
		}),
		new TileLayer({
			source: new XYZ({
				url: 'https://uparcgis.tycg.gov.tw/server/rest/services/TYNLMAP/Taoyuan_topo/MapServer/tile/{z}/{y}/{x}.png',
				maxZoom: maxZoom,
			}),
		}),
		...[
			[
				'TOPO01K_O01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_K18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_M22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_C01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_J10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_G15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_X07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F28',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_F29',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N28',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N29',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N30',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N31',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N32',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N33',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N34',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_N35',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Q27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_D93',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_D97',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_D99',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_DA0',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_DA1',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_DA2',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H28',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H29',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H30',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_H31',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T28',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T29',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T30',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_T31',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_W01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_Z01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_V18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_P15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E02',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E03',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E11',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E28',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E29',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_E30',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B01',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B04',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B05',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B06',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B07',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B08',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B09',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B10',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B12',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B13',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B14',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B15',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B16',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B17',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B19',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B20',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B21',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B22',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B23',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B24',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B25',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B26',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B27',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B28',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B29',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B30',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_B32',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
			[
				'TOPO01K_U18',
				[
					[118.1, 21.750837],
					[124.6, 27.04],
				],
			],
		].reverse().map((data: any) => {
			const key = data[0] as string;
			const extent = (data[1] as number[][]).flat() as Extent;
			return new TileLayer({
				source: new XYZ({
					url: `https://wmts.nlsc.gov.tw/wmts/${key}/default/GoogleMapsCompatible/{z}/{y}/{x}.png`,
					maxZoom: maxZoom,
				}),
        extent: extent,
			});
		}),
	],
});

const JapanGsiLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'http://maps.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg',
		maxZoom: maxZoom,
	}),
});

const KoreaNaverLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'https://map.pstatic.net/nrb/styles/satellite/{z}/{x}/{y}.png',
		maxZoom: maxZoom,
	}),
});

// Create the OpenStreetMap tile layer
const osmLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		url: 'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
		maxZoom: maxZoomOSM,
	}),
});

// Set up projection and tile grid for the blank layer
const projection: Projection = getProjection('EPSG:3857')!;
const projectionExtent: Extent = getProjection('EPSG:3857')!.getExtent()!;
const size: number = getWidth(projectionExtent) / 256;
const resolutions: number[] = new Array(20);
for (let z = 0; z < 20; ++z) {
	resolutions[z] = size / Math.pow(2, z);
}

const tileGrid: TileGrid = new TileGrid({
	origin: [projectionExtent[0], projectionExtent[1]],
	resolutions: resolutions,
	tileSize: 256, // Set the tile size explicitly
});

// Function to draw tile borders for the blank layer
function createTileUrlFunction(): (
	tileCoord: TileCoord,
	pixelRatio: number,
	projection: Projection,
) => string {
	return (tileCoord: TileCoord, pixelRatio: number, projection: Projection) => {
		const canvas = document.createElement('canvas');
		const size = 256; // Tile size
		canvas.width = size;
		canvas.height = size;
		const context = canvas.getContext('2d');

		// Fill background with a color
		if (context) {
			context.fillStyle = '#262626';
			context.fillRect(0, 0, size, size);

			// Draw tile borders
			context.strokeStyle = '#404040';
			context.lineWidth = 1;
			context.strokeRect(0, 0, size, size);

			// Optional: Draw tile coordinates (for debugging)
			// context.font = '8px Arial';
			// context.fillStyle = 'white';
			// context.fillText(`z: ${tileCoord[0]}`, 10, 20);
			// context.fillText(`x: ${tileCoord[1]}`, 10, 40);
			// context.fillText(`y: ${tileCoord[2]}`, 10, 60);
		}

		return canvas.toDataURL();
	};
}

// Create the blank layer with a grid using XYZ
const blankLayer: TileLayer<XYZ> = new TileLayer({
	source: new XYZ({
		tileGrid: tileGrid,
		tileUrlFunction: createTileUrlFunction(),
		maxZoom: 19, // Set max zoom as needed
	}),
});

// Export the map tile layers using the enum keys
export const mapTileLayers: Record<MapTileLayer, TileLayer<XYZ> | Group> = {
	[MapTileLayer.Blank]: blankLayer,
	[MapTileLayer.OSM]: osmLayer,
	[MapTileLayer.SgOneMap]: SingaporeOneMapLayer,
	[MapTileLayer.HkGeoData]: HongKongGeoDataLayer,
	[MapTileLayer.TwNlsc]: TaiwanNlscLayer,
	[MapTileLayer.TwTpeUdd]: TaiwanTaipeiUddLayer,
	[MapTileLayer.JpGsi]: JapanGsiLayer,
	[MapTileLayer.KrNaver]: KoreaNaverLayer,
	[MapTileLayer.Twlidar]: TWlidar,
	[MapTileLayer.TwTopo]: TWTopo,
};
